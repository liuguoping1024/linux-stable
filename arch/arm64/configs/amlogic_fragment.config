# Amlogic-specific configuration fragment for linux-stable 6.6.18 (android15-6.6)
# Based on original 5.10.247 config
# Usage: 
#   make ARCH=arm64 defconfig
#   ./scripts/kconfig/merge_config.sh -m .config arch/arm64/configs/amlogic_fragment.config
#

#
# Platform Selection
#
CONFIG_ARCH_MESON=y

#
# Amlogic Global Options
#
CONFIG_AMLOGIC_MODIFY=y
CONFIG_AMLOGIC_KERNEL_VERSION=15606

#
# Amlogic Wireless & Connectivity
#
CONFIG_AMLOGIC_WIRELESS=y
CONFIG_AMLOGIC_BT_DEVICE=y
CONFIG_AMLOGIC_WIFI=y
CONFIG_AMLOGIC_PWM_32K=y

#
# Amlogic PWM Driver
#
CONFIG_PWM=y
CONFIG_PWM_MESON=y
# CONFIG_AMLOGIC_PWM_MESON is not set

#
# Amlogic Standard Drivers (already in mainline)
#
CONFIG_MESON_SM=y
CONFIG_MESON_CANVAS=y
CONFIG_MESON_CLK_MEASURE=y
CONFIG_MESON_GX_SOCINFO=y
CONFIG_MESON_MX_SOCINFO=y
CONFIG_MESON_GX_PM_DOMAINS=y
CONFIG_MESON_EE_PM_DOMAINS=y
CONFIG_MESON_SECURE_PM_DOMAINS=y

#
# Watchdog
#
CONFIG_WATCHDOG=y
CONFIG_MESON_GXBB_WATCHDOG=m
CONFIG_MESON_WATCHDOG=m

#
# Thermal
#
CONFIG_THERMAL=y
CONFIG_AMLOGIC_THERMAL=y

#
# GPIO & IRQ
#
CONFIG_GPIOLIB=y
CONFIG_MESON_IRQ_GPIO=y

#
# Pinctrl
#
CONFIG_PINCTRL=y
CONFIG_PINCTRL_MESON=y
CONFIG_PINCTRL_MESON_GXBB=y
CONFIG_PINCTRL_MESON_GXL=y
CONFIG_PINCTRL_MESON8_PMX=y
CONFIG_PINCTRL_MESON_AXG=y
CONFIG_PINCTRL_MESON_AXG_PMX=y
CONFIG_PINCTRL_MESON_G12A=y
CONFIG_PINCTRL_MESON_A1=y

#
# Clock
#
CONFIG_COMMON_CLK=y
CONFIG_COMMON_CLK_MESON_REGMAP=y
CONFIG_COMMON_CLK_MESON_DUALDIV=y
CONFIG_COMMON_CLK_MESON_MPLL=y
CONFIG_COMMON_CLK_MESON_PHASE=m
CONFIG_COMMON_CLK_MESON_PLL=y
CONFIG_COMMON_CLK_MESON_SCLK_DIV=m
CONFIG_COMMON_CLK_MESON_VID_PLL_DIV=y
CONFIG_COMMON_CLK_MESON_AO_CLKC=y
CONFIG_COMMON_CLK_MESON_EE_CLKC=y
CONFIG_COMMON_CLK_MESON_CPU_DYNDIV=y
CONFIG_COMMON_CLK_GXBB=y
CONFIG_COMMON_CLK_AXG=y
CONFIG_COMMON_CLK_AXG_AUDIO=m
CONFIG_COMMON_CLK_G12A=y

#
# Reset Controller
#
CONFIG_RESET_CONTROLLER=y
CONFIG_RESET_MESON=y
CONFIG_RESET_MESON_AUDIO_ARB=m

#
# PHY
#
CONFIG_GENERIC_PHY=y
CONFIG_PHY_MESON8B_USB2=y
CONFIG_PHY_MESON_GXL_USB2=y
CONFIG_PHY_MESON_G12A_USB2=y
CONFIG_PHY_MESON_G12A_USB3_PCIE=y
CONFIG_PHY_MESON_AXG_PCIE=y
CONFIG_PHY_MESON_AXG_MIPI_PCIE_ANALOG=y

#
# Ethernet PHY
#
CONFIG_MESON_GXL_PHY=m

#
# I2C
#
CONFIG_I2C=y
CONFIG_I2C_MESON=y

#
# SPI
#
CONFIG_SPI=y
CONFIG_SPI_MESON_SPICC=y
CONFIG_SPI_MESON_SPIFC=y

#
# MMC/SD/SDIO
#
CONFIG_MMC=y
CONFIG_MMC_BLOCK=y
CONFIG_MMC_MESON_GX=y
CONFIG_MMC_MESON_MX_SDIO=y

#
# RTC
#
CONFIG_RTC_CLASS=y
CONFIG_RTC_DRV_MESON_VRTC=m

#
# Serial UART
#
CONFIG_SERIAL_MESON=y
CONFIG_SERIAL_MESON_CONSOLE=y

#
# NAND
#
CONFIG_MTD=y
CONFIG_MTD_NAND_MESON=m

#
# Infrared Remote
#
CONFIG_RC_CORE=m
CONFIG_IR_MESON=m

#
# Crypto
#
CONFIG_CRYPTO=y
CONFIG_CRYPTO_DEV_AMLOGIC_GXL=y

#
# DRM Display
#
CONFIG_DRM=y
CONFIG_DRM_MESON=y
CONFIG_DRM_MESON_DW_HDMI=y

#
# Video Decoder (Staging)
#
CONFIG_STAGING=y
CONFIG_STAGING_MEDIA=y
CONFIG_VIDEO_MESON_VDEC=m

#
# Network (Ethernet)
#
CONFIG_NETDEVICES=y
CONFIG_STMMAC_ETH=y
CONFIG_DWMAC_MESON=m

#
# MDIO Bus MUX
#
CONFIG_MDIO_BUS_MUX=y
CONFIG_MDIO_BUS_MUX_MESON_G12A=y

#
# ADC
#
CONFIG_IIO=y
CONFIG_MESON_SARADC=m

#
# Bluetooth & RFKILL (Dependencies)
# Note: Must be built-in (y) when AMLOGIC_WIRELESS=y
#
CONFIG_BT=y
CONFIG_RFKILL=y

#
# WiFi (Dependencies)
#
CONFIG_WIRELESS=y
CONFIG_WIRELESS_EXT=y
CONFIG_WEXT_PRIV=y
CONFIG_CFG80211=y

#
# Power Management
#
CONFIG_PM=y
CONFIG_PM_SLEEP=y
CONFIG_SUSPEND=y

#
# Device Tree & OF
#
CONFIG_OF=y

#
# CMA (for multimedia)
#
CONFIG_CMA=y
CONFIG_DMA_CMA=y
CONFIG_CMA_SIZE_MBYTES=128
